
response = Map();
message = message.toLowerCase();
text = "";
// ---------------------------------------
// 1ï¸âƒ£ Greetings 
// ---------------------------------------
if(message.contains("hi") || message.contains("hello") || message.contains("hey"))
{
	text = "ğŸ‘‹ Hi " + user.get("first_name") + "! How can *WorkWiz* assist you today?\n\nTry:\nâ€¢ attendance\nâ€¢ leave\nâ€¢ apply leave\nâ€¢ salary slip\nâ€¢ meeting\nâ€¢ help";
}
// ---------------------------------------
// 2ï¸âƒ£ Help Command
// ---------------------------------------
else if(message.contains("help"))
{
	text = "ğŸ¤– *WorkWiz â€“ Your Smart HR Assistant*\n\nI can help you with:\n";
	text = text + "â€¢ ğŸ“Š Attendance Summary\n";
	text = text + "â€¢ ğŸ“ Apply Leave\n";
	text = text + "â€¢ ğŸ“„ Salary Slip / HR Docs\n";
	text = text + "â€¢ ğŸ“… Meeting Planner\n";
	text = text + "â€¢ ğŸ‘¥ Employee Lookup\n";
	text = text + "â€¢ ğŸ”” Reminders & Tasks\n";
}
// ---------------------------------------
// 3ï¸âƒ£ Attendance Checker
// ---------------------------------------
else if(message.contains("attendance"))
{
	text = "ğŸ“Š *Your Attendance Today*\n\nâœ“ Present\nâœ“ Check-in: 9:15 AM\nâœ“ Working Hours: 7 hr 20 min\n\nWant *monthly summary*? Type: attendance summary";
}
// ---------------------------------------
// 4ï¸âƒ£ Attendance Summary Context
// ---------------------------------------
else if(message.contains("attendance summary"))
{
	text = "Sure! I need one detail ğŸ™‚";
	context = {"id":"attendance_summary","timeout":"300","params":{{"name":"month","question":"Which month do you want summary for?"}}};
	response.put("context",context);
}
// ---------------------------------------
// 5ï¸âƒ£ Leave Balance
// ---------------------------------------
else if(message.contains("leave balance"))
{
	text = "ğŸ“ *Your Leave Balance*\n\nâ€¢ Casual Leave: 6 days\nâ€¢ Sick Leave: 4 days\nâ€¢ Earned Leave: 12 days\n\nTo apply leave, type: apply leave";
}
// ---------------------------------------
// 6ï¸âƒ£ Apply Leave Context
// ---------------------------------------
else if(message.contains("apply leave"))
{
	text = "Great! Let's apply for your leave ğŸ˜Š";
	context = {"id":"leave_apply","timeout":"300","params":{{"name":"leave_date","question":"Which date do you want leave?"},{"name":"reason","question":"Reason for leave?"},{"name":"sex","question":"Leave Type","suggestions":{"list":{{"text":"Sick Leave"},{"text":"Casual Leave"},{"text":"Earned Leave"}}}}}};
	response.put("context",context);
}
// ---------------------------------------
// 7ï¸âƒ£ HR Document Generate (Salary Slip)
// ---------------------------------------
else if(message.contains("salary slip") || message.contains("document"))
{
	text = "Please provide the month & year ğŸ™‚";
	context = {"id":"document_generate","timeout":"300","params":{{"name":"month","question":"Enter month:"},{"name":"year","question":"Enter year:"}}};
	response.put("context",context);
}
// ---------------------------------------
// 8ï¸âƒ£ ğŸ’¡ NEW FEATURE â€” MEETING SETUP + EMPLOYEE LOOKUP
// ---------------------------------------
else if(message.contains("meeting") || message.contains("i have a meeting"))
{
	text = "ğŸ“… Great! Let's plan your meeting.\n\nFirst, tell me the *meeting date & time* (Ex: 2025-12-01 03:00 PM)";
	context = {"id":"meeting_setup","timeout":"600","params":{{"name":"meeting_time","question":"Enter meeting time:"},{"name":"attendees","question":"Who will attend? (Names separated by comma)"},{"name":"confirm","question":"Shall I set a reminder?","suggestions":{"list":{{"text":"Yes"},{"text":"No"}}}}}};
	response.put("context",context);
}
// ---------------------------------------
// 9ï¸âƒ£ Tasks
// ---------------------------------------
else if(message.contains("task") || message.contains("tasks"))
{
	text = "ğŸ“Œ *Your Tasks for Today*\n\n1. Submit project report\n2. Attend standup at 11 AM\n3. Review feedback\n\nType: done task 1";
}
// ---------------------------------------
// ğŸ”Ÿ Default Reply
// ---------------------------------------
else
{
	text = "I'm here to help! ğŸ˜Š\nType *help* to see what I can do.";
}
response.put("text",text);
return response;
